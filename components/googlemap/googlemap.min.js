// CALL AREA
$(function(){
	
	// Init - gMapHelper
	$('#google-map').gMapHelper({ address:"1100 Hector Street, Conshohocken, PA 19403" });
	
});


/*!
* gMapHelper v1.0
* Copyright (c) 2013 Brandon Miller
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html
**/
(function($){$.fn.gMapHelper=function(options){if($(this).length<1){return;}var mapEl=$(this)[0],directionsService=new google.maps.DirectionsService(),directionsDisplay=new google.maps.DirectionsRenderer(),geocoder,myMapType,map,marker,map_options;var defaults={icon:"",scrollwheel:false,zoom:14,address:"",mapType:"roadmap"};var settings=$.extend({},defaults,options);var plugin={myGeocoder:function(){geocoder=new google.maps.Geocoder();geocoder.geocode({address:settings.address},function(results,status){if(status==google.maps.GeocoderStatus.OK){settings.address=results[0].geometry.location;plugin.buildMap();}else{alert("Geocode was not successful for the following reason: "+status);}});},mapType:function(){switch(settings.mapType){case"roadmap":myMapType=google.maps.MapTypeId.ROADMAP;break;case"satellite":myMapType=google.maps.MapTypeId.SATELLITE;break;case"hybrid":myMapType=google.maps.MapTypeId.HYBRID;break;case"terrain":myMapType=google.maps.MapTypeId.TERRAIN;break;}return myMapType;},buildMap:function(){var map_options={center:settings.address,zoom:settings.zoom,scrollwheel:settings.scrollwheel,mapTypeId:plugin.mapType()};map=new google.maps.Map(mapEl,map_options);marker=new google.maps.Marker({position:settings.address,map:map,title:"Cleos Bar",icon:settings.icon});directionsDisplay.setMap(map);directionsDisplay.setPanel(document.getElementById("dir-panel"));},calcRoute:function(){var start=document.getElementById("saddr").value,end=settings.address;var request={origin:start,destination:end,travelMode:google.maps.TravelMode.DRIVING};directionsService.route(request,function(response,status){if(status==google.maps.DirectionsStatus.OK){directionsDisplay.setDirections(response);}});settings.icon=null;plugin.buildMap();},init:function(){plugin.myGeocoder();$("#get-dir").on("click",function(){plugin.calcRoute();});}};google.maps.event.addDomListener(window,"load",plugin.init);};})(jQuery);